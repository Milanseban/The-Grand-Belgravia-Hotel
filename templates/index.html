<!DOCTYPE html>
<html lang="en">
{% load static %}
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Grand Belgravia - Classic Luxury Hotel</title>
    <style>
        /* All of your existing styles are preserved */
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Raleway:wght@300;400;500&display=swap');
        body{margin:0;font-family:'Raleway',sans-serif;background-color:#fdfdfd;color:#333;line-height:1.8;font-weight:300}
        h1,h2,h3{font-family:'Playfair Display',serif;color:#1a2938;font-weight:700}
        .container{max-width:1200px;margin:auto;padding:0 20px}
        .navbar{background:rgba(255,255,255,0.9);padding:1.5rem 2rem;position:sticky;top:0;z-index:100;box-shadow:0 2px 10px rgba(0,0,0,0.1);display:flex;justify-content:space-between;align-items:center}
        .navbar .logo{font-family:'Playfair Display',serif;font-size:1.8rem;font-weight:700;color:#1a2938;text-decoration:none}
        .navbar nav{display:flex;align-items:center}
        .navbar nav a{color:#333;text-decoration:none;margin:0 15px;font-weight:400;transition:color 0.3s}
        .navbar nav a:hover{color:#c9a96d}
        .navbar .nav-buttons {display:flex;align-items:center;gap:1rem}
        .navbar .cta-button {border:1px solid #c9a96d;padding:10px 20px;color:#c9a96d;text-decoration:none;transition:background-color 0.3s,color 0.3s;border-radius:5px}
        .navbar .cta-button:hover {background-color:#c9a96d;color:#fff}
        .navbar .login-button, .navbar .account-link {
            background: none;
            border: none;
            color: #333;
            font-family: 'Raleway', sans-serif;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            padding: 10px 15px;
            text-decoration: none;
            transition: color 0.3s;
        }
        .navbar .login-button:hover, .navbar .account-link:hover {color: #c9a96d}
        .hero{position:relative;height:90vh;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;color:#fff;padding:0 20px;overflow:hidden}
        #hero-video{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);min-width:100%;min-height:100%;width:auto;height:auto;z-index:-2;background-color:#333}
        .hero::after{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.4);z-index:-1}
        .hero h1{font-size:4rem;color:#fff;margin-bottom:1rem}
        .hero p{font-size:1.5rem;font-weight:300;max-width:700px;margin-bottom:2rem}
        .hero .button-primary{background-color:#c9a96d;color:#fff;padding:15px 35px;text-decoration:none;font-size:1rem;font-weight:500;transition:background-color 0.3s,transform 0.3s;border-radius:5px}
        .hero .button-primary:hover{background-color:#b8985f;transform:translateY(-2px)}
        .about-section{padding:8rem 0;text-align:center;position:relative;background-color:#fff;background-image:linear-gradient(rgba(255,255,255,0.88),rgba(255,255,255,0.88)),url('https://images.unsplash.com/photo-1582719508461-905c673771fd?q=80&w=1925');background-size:cover;background-position:center;background-attachment:fixed}
        .about-content-wrapper{max-width:800px;margin:0 auto;position:relative;z-index:2}
        .about-content-wrapper h2{font-size:2.8rem;margin-bottom:2rem}
        .about-content-wrapper p{font-size:1.2rem;line-height:1.9;color:#555;margin-bottom:1.5rem}
        .showcase-section{padding:6rem 0;text-align:center;background-color:#f4f4f4}
        .showcase-section h2{font-size:2.8rem;margin-bottom:1rem}
        .showcase-section .subtitle{font-size:1.1rem;color:#777;max-width:600px;margin:0 auto 4rem auto}
        .showcase-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:2rem;margin-top:4rem}
        .showcase-item{background:#fff;box-shadow:0 5px 20px rgba(0,0,0,0.05);transition:transform 0.3s,box-shadow 0.3s;border-radius:15px;overflow:hidden}
        .showcase-item:hover{transform:translateY(-10px);box-shadow:0 15px 30px rgba(0,0,0,0.1)}
        .showcase-item img{width:100%;height:250px;object-fit:cover}
        .showcase-item-content{padding:2rem}
        .showcase-item-content h3{font-size:1.8rem;margin-bottom:1rem}
        .showcase-item-content p{margin-bottom:1.5rem;color:#555}
        .button-secondary{color:#c9a96d;text-decoration:none;font-weight:500;border-bottom:1px solid #c9a96d;padding-bottom:3px;transition:color 0.3s,border-color 0.3s}
        .button-secondary:hover{color:#1a2938;border-color:#1a2938}
        .footer{background-color:#1a2938;color:#fff;padding:4rem 0;text-align:center}
        .footer .container{max-width:800px}.footer .logo{font-family:'Playfair Display',serif;font-size:2rem;margin-bottom:1rem}.footer p{color:#ccc;margin-bottom:2rem;font-weight:300}.footer .social-links a{color:#fff;text-decoration:none;font-size:1.5rem;margin:0 15px;transition:color 0.3s}.footer .social-links a:hover{color:#c9a96d}.footer .footer-bottom{margin-top:3rem;padding-top:2rem;border-top:1px solid #3e4a56;font-size:0.9rem;color:#999}
        .modal-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(26,41,56,0.7);z-index:200;display:flex;justify-content:center;align-items:center;opacity:0;visibility:hidden;transition:opacity .4s ease,visibility .4s ease}
        .modal-overlay.active{opacity:1;visibility:visible}
        .modal-content{background:#fff;padding:2.5rem 3rem;border-radius:5px;width:100%;max-width:450px;position:relative;box-shadow:0 10px 40px rgba(0,0,0,0.2);transform:translateY(20px);transition:transform .4s ease}
        .modal-overlay.active .modal-content{transform:translateY(0)}
        .modal-close{position:absolute;top:0.5rem;right:1rem;font-size:2.5rem;color:#ccc;cursor:pointer;border:none;background:none;line-height:1}
        .modal-close:hover{color:#333}
        .modal-header h2{text-align:center;margin-top:0;margin-bottom:2rem;font-size:2.2rem}
        .modal-tabs{display:flex;margin-bottom:2rem;background-color:#f4f4f4;border-radius:5px;padding:5px}
        .modal-tab{flex:1;padding:0.75rem;text-align:center;font-size:1rem;font-weight:500;cursor:pointer;color:#555;border-radius:5px;transition:background-color .3s,color .3s}
        .modal-tab.active{background-color:#fff;color:#1a2938;box-shadow:0 2px 10px rgba(0,0,0,0.1)}
        .modal-form{display:none}.modal-form.active{display:block}
        .form-group{display:flex;flex-direction:column;margin-bottom:1.5rem}
        .form-group label{margin-bottom:0.5rem;font-weight:500;color:#555}
        .form-group input{padding:1rem;border:1px solid #ddd;border-radius:5px;font-size:1rem;font-family:'Raleway',sans-serif}
        .modal-button{background-color:#c9a96d;color:#fff;padding:1rem;font-size:1.1rem;font-weight:500;transition:background-color .3s;display:block;width:100%;border:none;border-radius:5px;cursor:pointer;text-align:center;margin-top:1rem}
        .modal-button:hover{background-color:#b8985f}
        .form-link{font-size:0.9rem;text-align:right;margin-top:-1rem;margin-bottom:1.5rem}
        .form-link a{color:#c9a96d;text-decoration:none}
    </style>
</head>
<body>

    <header class="navbar">
        <a href="/" class="logo">The Grand Belgravia</a>
        <nav>
            <a href="/#about">About</a>
            <a href="/rooms/">Rooms</a>
            <a href="/dining/">Dining</a>
            <a href="/spa/">Spa</a>
            <a href="/#contact">Contact</a>
        </nav>
        <div class="nav-buttons">
            <div id="user-actions">
                </div>
            <a href="/booking/" class="cta-button">Book Now</a>
        </div>
    </header>

    <section class="hero">
        <video id="hero-video" autoplay loop muted playsinline>
            <source src="{% static 'videos/background-video.mp4' %}" type="video/mp4">
        </video>
        <h1>Experience Timeless Elegance</h1>
        <p>A sanctuary of classic luxury and bespoke service in the heart of the city, where every stay is a cherished memory.</p>
        <a href="/rooms/" class="button-primary">Explore Our Rooms</a>
    </section>
    <section id="about" class="about-section">
        <div class="container">
            <div class="about-content-wrapper">
                <h2>A Heritage of Unrivaled Hospitality</h2>
                <p>Welcome to The Grand Belgravia, an icon of refined elegance since its inception in 1904. For over a century, we have dedicated ourselves to a legacy of impeccable service and an unwavering commitment to providing an experience that transcends the ordinary.</p>
                <p>Here, every detail is meticulously curated to create a sanctuary of tranquility amidst the city's vibrant pulse. Our philosophy is rooted in providing a deeply personal experience, where timeless traditions of hospitality meet the subtle luxuries of modern living. We believe that true luxury lies not in extravagance, but in the perfection of every moment.</p>
                <p>We invite you to step into a world where classic charm meets contemporary comfort, and where every stay is a cherished memory in the making.</p>
            </div>
        </div>
    </section>
    <section class="showcase-section">
        <div class="container">
            <h2>Your Private Sanctuary</h2>
            <p class="subtitle">Our rooms and suites are meticulously designed to be your home away from home, offering unparalleled comfort and breathtaking views.</p>
            <div class="showcase-grid">
                <div class="showcase-item"><img src="https://images.unsplash.com/photo-1611892440504-42a792e24d32?q=80&w=2070" alt="Elegant hotel room with a large bed and city view"><div class="showcase-item-content"><h3>Rooms & Suites</h3><p>Exquisitely appointed spaces featuring plush furnishings and modern amenities for a truly restful stay.</p><a href="/rooms/" class="button-secondary">Explore Accommodations</a></div></div>
                <div class="showcase-item"><img src="https://images.unsplash.com/photo-1552566626-52f8b828add9?q=80&w=2070" alt="Fine dining restaurant with elegant table settings"><div class="showcase-item-content"><h3>Exquisite Dining</h3><p>Embark on a culinary journey at our award-winning restaurant, celebrating the finest seasonal ingredients.</p><a href="/dining/" class="button-secondary">View The Menus</a></div></div>
                <div class="showcase-item"><img src="https://images.unsplash.com/photo-1540555700478-4be289fbecef?q=80&w=2070" alt="Serene spa and wellness center"><div class="showcase-item-content"><h3>Wellness & Spa</h3><p>Rejuvenate your mind, body, and soul at our tranquil spa, offering a range of bespoke treatments.</p><a href="/spa/" class="button-secondary">Discover The Spa</a></div></div>
            </div>
        </div>
    </section>
    <footer id="contact" class="footer">
       <div class="container">
            <div class="logo">The Grand Belgravia</div>
            <p>123 Park Lane, London, W1K 7TN, United Kingdom<br>+44 20 1234 5678 | reservations@grandbelgravia.com</p>
            <div class="social-links"><a href="#" aria-label="Instagram">IG</a><a href="#" aria-label="Facebook">FB</a><a href="#" aria-label="Twitter">TW</a></div>
            <div class="footer-bottom">&copy; 2025 The Grand Belgravia. All Rights Reserved.</div>
        </div>
    </footer>

    <div class="modal-overlay" id="auth-modal">
        <div class="modal-content">
            <button class="modal-close" id="modal-close-btn">&times;</button>
            <div class="modal-header"><h2>Welcome</h2></div>
            <div class="modal-tabs"><div class="modal-tab active" id="login-tab">Login</div><div class="modal-tab" id="signup-tab">Sign Up</div></div>
            <form class="modal-form active" id="login-form">
                <div class="form-group"><label for="login-username">Username</label><input type="text" id="login-username" required></div>
                <div class="form-group"><label for="login-password">Password</label><input type="password" id="login-password" required></div>
                <div class="form-link"><a href="#">Forgot Password?</a></div>
                <button type="submit" class="modal-button">Login</button>
            </form>
            <form class="modal-form" id="signup-form">
                <div class="form-group"><label for="signup-username">Username</label><input type="text" id="signup-username" required></div>
                <div class="form-group"><label for="signup-email">Email</label><input type="email" id="signup-email" required></div>
                <div class="form-group"><label for="signup-password">Password</label><input type="password" id="signup-password" required></div>
                <button type="submit" class="modal-button">Create Account</button>
            </form>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const authModal = document.getElementById('auth-modal');
            const userActionsContainer = document.getElementById('user-actions');

            const getCookie = (name) => {
                let cookieValue = null;
                if (document.cookie && document.cookie !== '') {
                    const cookies = document.cookie.split(';');
                    for (let i = 0; i < cookies.length; i++) {
                        const cookie = cookies[i].trim();
                        if (cookie.substring(0, name.length + 1) === (name + '=')) {
                            cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                            break;
                        }
                    }
                }
                return cookieValue;
            }
            const csrftoken = getCookie('csrftoken');

            const updateHeader = () => {
                if (localStorage.getItem('authToken')) {
                    userActionsContainer.innerHTML = `<a href="/account/" class="account-link">My Account</a>`;
                } else {
                    userActionsContainer.innerHTML = `<button class="login-button">Login</button>`;
                    const loginButton = userActionsContainer.querySelector('.login-button');
                    if (loginButton) loginButton.addEventListener('click', openModal);
                }
            };
            const openModal = () => { if (authModal) authModal.classList.add('active'); };
            const closeModal = () => { if (authModal) authModal.classList.remove('active'); };
            updateHeader();

            if (authModal) {
                document.getElementById('modal-close-btn').addEventListener('click', closeModal);
                authModal.addEventListener('click', (e) => { if (e.target === authModal) closeModal(); });

                const loginTab = document.getElementById('login-tab');
                const signupTab = document.getElementById('signup-tab');
                const loginForm = document.getElementById('login-form');
                const signupForm = document.getElementById('signup-form');

                loginTab.addEventListener('click', () => {
                    loginTab.classList.add('active'); signupTab.classList.remove('active');
                    loginForm.classList.add('active'); signupForm.classList.remove('active');
                });
                signupTab.addEventListener('click', () => {
                    signupTab.classList.add('active'); loginTab.classList.remove('active');
                    signupForm.classList.add('active'); loginForm.classList.remove('active');
                });

                signupForm.addEventListener('submit', (e) => {
                    e.preventDefault();
                    const username = document.getElementById('signup-username').value;
                    const email = document.getElementById('signup-email').value;
                    const password = document.getElementById('signup-password').value;

                    fetch('/api/signup/', {
                        method: 'POST',
                        headers: {'Content-Type': 'application/json', 'X-CSRFToken': csrftoken},
                        body: JSON.stringify({ username, email, password })
                    })
                    .then(res => res.json())
                    .then(data => {
                        if (data.username) {
                            alert('Account created successfully! Please log in.');
                            loginTab.click();
                        } else {
                            alert(Object.entries(data).map(([key, value]) => `${key}: ${value.join(', ')}`).join('\n'));
                        }
                    });
                });

                loginForm.addEventListener('submit', (e) => {
                    e.preventDefault();
                    const username = document.getElementById('login-username').value;
                    const password = document.getElementById('login-password').value;

                    fetch('/api/login/', {
                        method: 'POST',
                        headers: {'Content-Type': 'application/json', 'X-CSRFToken': csrftoken},
                        body: JSON.stringify({ username, password })
                    })
                    .then(res => res.json())
                    .then(data => {
                        if (data.token) {
                            localStorage.setItem('authToken', data.token);
                            localStorage.setItem('userName', username);
                            alert('Login successful!');
                            closeModal();
                            updateHeader();
                        } else {
                            alert(data.error || 'Login failed. Please check your username and password.');
                        }
                    });
                });
            }
        });
    </script>
</body>
</html>